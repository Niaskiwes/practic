!function(){const t="https://api.userattribution.com",o=document.querySelector("script[data-id]"),n=o?o.getAttribute("data-id"):null;if(!n)return void console.error("Customer ID not found. Please include a data-id attribute in the script tag.");if(/^localhost$|^127(\.[0-9]+){0,2}\.[0-9]+$|^\[::1?\]$/.test(window.location.hostname)||"file:"===window.location.protocol)return void console.warn("Ignoring localhost or file protocol");function e(t){const o=document.cookie.match(new RegExp("(?:^|; )"+t.replace(/([.$?*|{}()[]\/+^])/g,"\\$1")+"=([^;]*)"));return o?decodeURIComponent(o[1]):null}function i(){let t=e("userattribution");return t||(t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){const o=16*Math.random()|0;return("x"===t?o:3&o|8).toString(16)})),function(t,o,n){const e=new Date;e.setTime(e.getTime()+864e5*n);const i="; expires="+e.toUTCString(),r=window.location.hostname;let a;if("localhost"!==r&&r.includes(".")){const t=r.split(".");a=t.length>2&&t.slice(-2).join(".").length<=6?`.${t.slice(-3).join(".")}`:`.${t.slice(-2).join(".")}`}else a=r;document.cookie=`${t}=${o||""}${i}; path=/; domain=${a}; Secure; SameSite=Lax`}("userattribution",t,365)),t}function r(){!function(o){const e={uuid:o,OrgId:n,timestamp:(new Date).toISOString()};e.referer=document.referrer||null,e.page=window.location.href,fetch(`${t}/track/pageview`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).catch((t=>console.error("Error tracking page view:",t)))}(i())}r();let a=window.location.pathname;const c=window.history.pushState;window.history.pushState=function(){c.apply(this,arguments),a!==window.location.pathname&&(a=window.location.pathname,r())},window.addEventListener("popstate",(function(){a!==window.location.pathname&&(a=window.location.pathname,r())})),window.uaTrackEvent=function(o="",i=null){const r={uuid:e("userattribution"),OrgId:n,event_name:o,date:i};fetch(`${t}/track/event`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).catch((t=>console.error("Error tracking event:",t)))},window.associateUser=function(o,i,r,a){const c=e("userattribution"),s={uuid:c,OrgId:n,identifier:o,billingId:i,signup_date:r,CustomerOrgId:a};c?fetch(`${t}/embed/associate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).catch((t=>console.error("Error:",t))):console.error("User attribution ID not found.")},window.onload=function(){}}();